{"version":3,"sources":["./src/app/recordatorio/recordatorio.page.html","./src/app/recordatorio/file-size-format.pipe.ts","./src/app/recordatorio/recordatorio-routing.module.ts","./src/app/recordatorio/recordatorio.module.ts","./src/app/recordatorio/recordatorio.page.scss","./src/app/recordatorio/recordatorio.page.ts","./src/app/services/firestorage.service.ts"],"names":[],"mappings":"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","file":"recordatorio-recordatorio-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  \\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>    \\r\\n    <ion-title>\\r\\n      Crear Recordatorio\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n \\r\\n  <ion-item>\\r\\n  <ion-label position=\\\"floating\\\" >Titulo Actividad</ion-label>\\r\\n    <ion-input [(ngModel)]=\\\"recor.titulo\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-label>Tipo de Actividad</ion-label>\\r\\n    <ion-select value=\\\"Seleccione\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"recor.t_actividad\\\">\\r\\n      <ion-select-option value=\\\"muyImportante\\\">Muy Importante</ion-select-option>\\r\\n      <ion-select-option value=\\\"importante\\\">Importante</ion-select-option>\\r\\n      <ion-select-option value=\\\"normal\\\">Normal</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n  <ion-label position=\\\"floating\\\" >Descripcion de Actividad</ion-label>\\r\\n    <ion-input [(ngModel)]=\\\"recor.actividad\\\"></ion-input>\\r\\n  </ion-item>\\r\\n \\r\\n  <ion-item>\\r\\n  <ion-label position=\\\"floating\\\">Fecha</ion-label>\\r\\n  <ion-datetime displayFormat=\\\"MM/DD/YYYY\\\" min=\\\"2020-03-14\\\" max=\\\"2050-12-09\\\" value=\\\"2002-09-23T15:03:46.789\\\" [(ngModel)]=\\\"recor.fecha\\\"></ion-datetime>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n  <ion-label>Hora</ion-label>\\r\\n  <ion-datetime displayFormat=\\\"h:mm a\\\" [(ngModel)]=\\\"recor.hora\\\"></ion-datetime>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label>\\r\\n      Foto:\\r\\n    </ion-label>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button>\\r\\n        <label for=\\\"file-upload\\\">\\r\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"images\\\"></ion-icon>\\r\\n        </label>\\r\\n        <input type=\\\"file\\\" accept=\\\".png, .jpg\\\" (change)=\\\"newImageUpload($event)\\\" id=\\\"file-upload\\\" style=\\\"display: none;\\\">\\r\\n\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <img [src]=\\\"recor.fotoUrl\\\">\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item (click)=\\\"addDirection()\\\" >\\r\\n    <ion-label class=\\\"normal\\\">\\r\\n      Ubicacion\\r\\n    </ion-label>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button>\\r\\n        <ion-icon slot=\\\"icon-only\\\" color=\\\"danger\\\" name=\\\"location\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-button color=\\\"secondary\\\" expand=\\\"block\\\" (click)=\\\"guardar()\\\">Guardar</ion-button>\\r\\n  </ion-item>\\r\\n</ion-content>\\r\\n\"","//file-size-format.pipe.ts\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\nconst FILE_SIZE_UNITS = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\nconst FILE_SIZE_UNITS_LONG = ['Bytes', 'Kilobytes', 'Megabytes', 'Gigabytes', 'Pettabytes', 'Exabytes', 'Zettabytes', 'Yottabytes'];\r\n\r\n@Pipe({\r\n    name: 'fileSizePipe'\r\n})\r\nexport class FileSizeFormatPipe implements PipeTransform {\r\n    static forRoot() {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n    transform(sizeInBytes: number, longForm: boolean): string {\r\n        const units = longForm\r\n            ? FILE_SIZE_UNITS_LONG\r\n            : FILE_SIZE_UNITS;\r\n        let power = Math.round(Math.log(sizeInBytes) / Math.log(1024));\r\n        power = Math.min(power, units.length - 1);\r\n        const size = sizeInBytes / Math.pow(1024, power); // size in new units\r\n        const formattedSize = Math.round(size * 100) / 100; // keep up to 2 decimals\r\n        const unit = units[power];\r\n        return `${formattedSize} ${unit}`;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RecordatorioPage } from './recordatorio.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RecordatorioPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RecordatorioPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RecordatorioPageRoutingModule } from './recordatorio-routing.module';\r\n\r\nimport { RecordatorioPage } from './recordatorio.page';\r\nimport { FileSizeFormatPipe } from './file-size-format.pipe';\r\nimport { GooglemapsComponent } from '../googlemaps/googlemaps.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RecordatorioPageRoutingModule\r\n  ],\r\n  declarations: [RecordatorioPage,FileSizeFormatPipe],\r\n  exports: [RecordatorioPage]\r\n})\r\nexport class RecordatorioPageModule {}\r\n","module.exports = \"/* Set variables for all modes */\\n#map {\\n  width: 100%;\\n  height: 100%;\\n}\\n.my-custom-class {\\n  --background: #06052e;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVjb3JkYXRvcmlvL0M6XFxVc2Vyc1xcam1hdHVcXE9uZURyaXZlXFxFc2NyaXRvcmlvXFxQTEFUQUZPUk1BUyBNw5NWSUxFUyAtIFRpbWJpXFxQcm95ZWN0by9zcmNcXGFwcFxccmVjb3JkYXRvcmlvXFxyZWNvcmRhdG9yaW8ucGFnZS5zY3NzIiwic3JjL2FwcC9yZWNvcmRhdG9yaW8vcmVjb3JkYXRvcmlvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQ0FBQTtBQUNBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUNDSjtBREVFO0VBQ0UscUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3JlY29yZGF0b3Jpby9yZWNvcmRhdG9yaW8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogU2V0IHZhcmlhYmxlcyBmb3IgYWxsIG1vZGVzICovXHJcbiNtYXB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIFxyXG4gIH1cclxuICAubXktY3VzdG9tLWNsYXNzIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzA2MDUyZTtcclxuICB9IiwiLyogU2V0IHZhcmlhYmxlcyBmb3IgYWxsIG1vZGVzICovXG4jbWFwIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLm15LWN1c3RvbS1jbGFzcyB7XG4gIC0tYmFja2dyb3VuZDogIzA2MDUyZTtcbn0iXX0= */\"","import { Component, OnInit} from '@angular/core';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { Recordatorio } from '../model/recordatorio';\r\nimport { RecordatorioserviceService } from '../services/recordatorioservice.service';\r\nimport { FirestorageService } from '../services/firestorage.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { GooglemapsComponent } from '../googlemaps/googlemaps.component';\r\nimport { GooglemapsService } from '../services/googlemaps.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\n\r\n@Component({\r\n  selector: 'app-recordatorio',\r\n  templateUrl: './recordatorio.page.html',\r\n  styleUrls: ['./recordatorio.page.scss'],\r\n})\r\nexport class RecordatorioPage implements OnInit {\r\n\r\n  recor: Recordatorio={\r\n    uid: this.afs.createId(),\r\n    titulo: \"\",\r\n    t_actividad: \"\",\r\n    actividad: \"\",\r\n    fecha: null,\r\n    hora: null,\r\n    ubicacion:null,\r\n    deleted: false,\r\n    fotoUrl: \"\"\r\n  }\r\n  \r\n  newImage='';\r\n  newFile='';\r\n  \r\n  constructor(private modalController: ModalController, public firestorageService: FirestorageService,  private route: ActivatedRoute, private router: Router,\r\n    public recordatorioService: RecordatorioserviceService, private storage: AngularFireStorage,private gs:GooglemapsService,private afs:AngularFirestore ) {\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      console.log(params);\r\n      if (this.router.getCurrentNavigation().extras.queryParams) {\r\n        this.recor = this.router.getCurrentNavigation().extras.queryParams.recordatorio;\r\n        \r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  async addDirection(){\r\n    const ubicacion = this.recor.ubicacion\r\n    let positionInput = {\r\n      lat: -2.898116,\r\n      lng: -78.99958149999999\r\n    };\r\n    if(ubicacion!== null){\r\n      positionInput =  ubicacion;\r\n    }\r\n\r\n    const modalAdd = await this.modalController.create({\r\n      component: GooglemapsComponent,\r\n      componentProps: {position: positionInput}\r\n    });\r\n\r\n    await modalAdd.present();\r\n    const {data} = await modalAdd.onWillDismiss();\r\n    if(data){\r\n      console.log('data -> ', data);\r\n      this.recor.ubicacion =  data.pos;\r\n      console.log('This.cliente -> ', this.recor);\r\n    }\r\n  }\r\n\r\n  //guardar demas\r\n\r\n  async guardar(){\r\n    console.log(this.recor);\r\n    const path = 'Recordatorios';\r\n    const name = this.recor.actividad;\r\n    const res = await this.firestorageService.uploadImage(this.newFile, path,name)\r\n    this.recor.fotoUrl = res;\r\n\r\n    this.recordatorioService.saveRecordatorio(this.recor);\r\n \r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        recordatorio: this.recor\r\n      }\r\n    };\r\n\r\n    this.router.navigate(['/listar-recordatorios'], navigationExtras);\r\n  }\r\n\r\n  \r\n\r\n  async newImageUpload(event:any){\r\n    if (event.target.files && event.target.files[0]){\r\n      this.newFile = event.target.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = ((image)=> {\r\n        \r\n        //this.recor.fotoUrl = image.target.result as string;\r\n      });\r\n      reader.readAsDataURL(event.target.files[0]);\r\n    }\r\n  }\r\n\r\n  \r\n \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { resolve } from 'url';\r\nimport { finalize, tap } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FirestorageService {\r\n\r\n  constructor( public storage: AngularFireStorage) { }\r\n\r\n  uploadImage(file: any, path: string, nombre:string): Promise<string>{\r\n    return new Promise( resolve =>{\r\n\r\n      const filePath = path + '/' + nombre;\r\n      const ref = this.storage.ref(filePath);\r\n      const task = ref.put(file);\r\n      task.snapshotChanges().pipe(\r\n        finalize( () => {\r\n          ref.getDownloadURL().subscribe( res =>{\r\n            const downloadURL = res;\r\n            resolve(downloadURL);\r\n            return;\r\n          });\r\n        })\r\n      )\r\n      .subscribe();\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}